{% load staticfiles %}
<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="{% static '1blood-2/css/materialize.min.css' %}"  media="screen,projection and (min-width: 45em)"/>
    <link rel="stylesheet" href="{% static '1blood-2/css/animate.css' %}">

    <!-- MyCSS -->
    <link rel="stylesheet" href="{% static '1blood-2/css/style.css' %}"/>

    <style>{% block style %}{% endblock style %}</style>
    
    <!-- alertify -->
    <link href="{% static 'alertify/css/alertify.min.css' %}" rel="stylesheet"> 
    <link href="{% static 'alertify/css/themes/default.min.css' %}" rel="stylesheet">

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>

  <body class="scrollspy">
    
    {% if messages %}   
      {% for message in messages %}
        <input type="hidden" id="messages_status" value="{{ message.tags }}">
        <input type="hidden" id="messages_content" value="{{ message }}">
      {% endfor %}
    {% endif %}
    

    {% block navbar %}
    <!-- Navbar -->
    <div class="navbar-fixed">
      <nav>
        <div class="container">
          <div class="nav-wrapper">
            <a href="#home" class="brand-logo">LPPM</a>
            <a href="#" data-target="mobile-nav" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
              <li><a href="#home" class="menu">BERANDA</a></li>
              <li><a href="#penelitian" class="menu">PENELITIAN</a></li>
              <li><a href="#services" class="menu">PENGABDIAN</a></li>
              <li><a href="{% url 'lppm:masuk' %}" class="menu ">LOGIN</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>

    <!-- SideNav -->
    <ul class="sidenav" id="mobile-nav">
      <li><a href="#home">BERANDA</a></li>
      <li><a href="#penelitian">PENELITIAN</a></li>
      <li><a href="#services">PENGABDIAN</a></li>
      <li><a href="{% url 'lppm:masuk' %}">LOGIN</a></li>
    </ul>
    {% endblock navbar %}


    {% block content %}
    <!-- BERANDA -->
    <div  id="home" class="parallax-container scrollspy">
      <div class="parallax"><img src="{% static '1blood-2/img/bg.jpg' %}"></div>
      <div class=" clients">
        <div class="row">
          <div class="col m4 s12 center wow fadeInLeft" data-wow-duration="0.5s" data-wow-delay: "0.5s">
            <img src="{% static '1blood-2/img/clients/logo.png' %}" >
          </div>
          <div class="col m8 s12 wow fadeIn" data-wow-duration="1s" data-wow-delay: "1s">  
            <h3 class="light white-text">Selamat Datang</h3>
            <h5 class="light white-text">We Are Profesionals</h5>
            <p class="light white-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras pretium mattis auctor. Cras vel accumsan massa. Duis maximus eu tellus venenatis ornare. Nunc id iaculis est. Donec ac posuere turpis. Morbi id sem pellentesque, tristique dui in, placerat nisi. Maecenas ut sapien pulvinar velit condimentum hendrerit. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt nihil quaerat eos repellendus id deserunt alias cum qui animi accusamus illum molestiae veritatis, nemo quos quae dolores dolore quibusdam culpa. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Explicabo nam .</p>
          </div>
        </div>
      </div>
    </div>


    <!-- PENELITIAN -->
    <section id="penelitian" class="about scrollspy">
      <div class="container">
        <div class="row">
          <h3 class="center light grey-text text-darken-3">Statistik Penelitian</h3>
          <div class="col s12 light">
            <div class="card-panel wow slideInLeft" data-wow-duration="1s" data-wow-delay: "0.5s">
                <canvas id="myChart" width="110" height="50"></canvas>
            </div>
          </div>
          <div class="col s12 light wow fadeIn" data-wow-duration="2s" data-wow-delay: "1.5s">
            <ul class="collapsible">
              {% for afk, afk1 in penelitian.items %}
              <li>
                <div class="collapsible-header"><b>FAKULTAS {{ afk }}</b></div>
                <div class="collapsible-body">
                  <ul class="collection">
                    {% for afk2, afk3 in afk1.items %}
                    <li class="collection-item"><a href="{% url 'lppm:penelitian_list' nama=afk2 %}"><span class="badge">{{ afk3 }}</span>{{ afk2 }}</a></li>
                    {% endfor %}
                  </ul>
                </div>
              </li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
    </section>


    <!-- PENGABDIAN -->
    <section id="services" class="services grey lighten-3 scrollspy">
      <div class="container">
        <div class="row">
          <h3 class="center light grey-text text-darken-3">Statistik Abdimas</h3>
          <div class="col s12 light">
            <div class="card-panel wow slideInLeft" data-wow-duration="1s" data-wow-delay: "0.5s">
                <canvas id="myChart2" width="110" height="50"></canvas>
            </div>
          </div>
          <div class="col s12 light wow fadeIn" data-wow-duration="2s" data-wow-delay: "1.5s">
            <ul class="collapsible white">
              {% for afk, afk1 in pengabdian.items %}
              <li>
                <div class="collapsible-header"><b>FAKULTAS {{ afk }}</b></div>
                <div class="collapsible-body">
                  <ul class="collection">
                    {% for afk2, afk3 in afk1.items %}
                    <li class="collection-item"><a href="{% url 'lppm:pengabdian_list' nama=afk2 %}"><span class="badge">{{ afk3 }}</span>{{ afk2 }}</a></li>
                    {% endfor %}
                  </ul>
                </div>
              </li>
              {% endfor %}
            </ul>
          </div>
        </div>
    </section>
    {% endblock content %}

    {% block footer %}
    <!-- Footer -->
    <footer class="blue darken-4 white-text center">
      <p class="flow-text">KNTL Developer. Copyright 2019.</p>
    </footer>
    {% endblock footer %}


    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="{% static '1blood-2/js/jquery-3.3.1.min.js' %}"></script>
    <script type="text/javascript"src="{% static '1blood-2/js/Chart.min.js' %}"></script>
    <script type="text/javascript" src="{% static '1blood-2/js/materialize.min.js' %}"></script>
    <script src="{% static '1blood-2/js/wow.min.js' %}"></script>
    <script type="text/javascript" src="{% static '1blood-2/js/myjs.js' %}"></script>
    

    <script>{% block js %}{% endblock js %}</script>

    <!-- alertify js -->
    <script src="{% static 'alertify/alertify.min.js' %}"></script>
    <script>
        var messages_status = $('#messages_status').val();
        var messages_content = $('#messages_content').val();
        if(messages_status == "success") {
            alertify.success(messages_content);
        } else if(messages_status == "error") {
            alertify.error(messages_content);
        }
        console.log(messages_status);
        console.log(messages_content);
    </script>

    {% block chart_penelitian %}
    <!-- CHART1 -->
    <script>
      var endpoint = '/chartPenelitian/'
      var defaultData = []
      var labels = [];
      $.ajax({
          method: "GET",
          url: endpoint,
          success: function(data){
              labels = data.labels
              defaultData = data.default
              setChart1()
          },
          error: function(error_data){
              console.log("error")
              console.log(error_data)
          }
      })

      function setChart1(){
        var ctx = document.getElementById("myChart").getContext('2d');
        var myChart = new Chart(ctx, {
          type: 'line',
          data: {
              labels: labels,
              datasets: [{
                  label: '# Jumlah',
                  data: defaultData,
                  backgroundColor: [
                      'rgba(255, 99, 132, 0.2)',
                      'rgba(54, 162, 235, 0.2)',
                      'rgba(255, 206, 86, 0.2)',
                      'rgba(75, 192, 192, 0.2)',
                      'rgba(153, 102, 255, 0.2)',
                      'rgba(255, 159, 64, 0.2)'
                  ],
                  borderColor: [
                      'rgba(255,99,132,1)',
                      'rgba(54, 162, 235, 1)',
                      'rgba(255, 206, 86, 1)',
                      'rgba(75, 192, 192, 1)',
                      'rgba(153, 102, 255, 1)',
                      'rgba(255, 159, 64, 1)'
                  ],
                  borderWidth: 1
              }]
          },
          options: {
              scales: {
                  yAxes: [{
                      ticks: {
                          beginAtZero:true,
                          stacked: true,
                          stepSize: 25,
                          max: 100,
                      }
                  }]
              }
          }
        });
      }
    </script>
    
    <!-- CHART2 -->
    <script>
        var endpoint2 = '/chartPengabdian/'
        var defaultData2 = []
        var labels2 = [];
        $.ajax({
            method: "GET",
            url: endpoint2,
            success: function(data){
                labels2 = data.labels
                defaultData2 = data.default
                setChart2()
            },
            error: function(error_data){
                console.log("error")
                console.log(error_data)
            }
        })

        function setChart2(){
          var ctx = document.getElementById("myChart2").getContext('2d');
          var myChart = new Chart(ctx, {
          type: 'bar',
          data: {
              labels: labels2,
              datasets: [{
                  label: '# Jumlah',
                  data: defaultData2,
                  backgroundColor: [
                      'rgba(255, 99, 132, 0.2)',
                      'rgba(54, 162, 235, 0.2)',
                      'rgba(255, 206, 86, 0.2)',
                      'rgba(75, 192, 192, 0.2)',
                      'rgba(153, 102, 255, 0.2)',
                      'rgba(255, 159, 64, 0.2)'
                  ],
                  borderColor: [
                      'rgba(255,99,132,1)',
                      'rgba(54, 162, 235, 1)',
                      'rgba(255, 206, 86, 1)',
                      'rgba(75, 192, 192, 1)',
                      'rgba(153, 102, 255, 1)',
                      'rgba(255, 159, 64, 1)'
                  ],
                  borderWidth: 1
              }]
          },
          options: {
              scales: {
                  yAxes: [{
                      ticks: {
                          beginAtZero:true,
                          stacked: true,
                          stepSize: 25,
                          max: 100,
                      }
                  }]
              }
          }
        });
        }
    </script>
    {% endblock chart_penelitian %}

</body>
</html>




























